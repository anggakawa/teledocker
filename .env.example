# ChatOps AI Bridge â€” Environment Variables
# Copy this file to .env and fill in all required values.

# =============================================================================
# Required: Telegram
# =============================================================================

# Bot token from @BotFather
TELEGRAM_BOT_TOKEN=

# Bot mode: "polling" for local dev (no domain needed), "webhook" for production.
BOT_MODE=polling

# Only required when BOT_MODE=webhook:
# Random string used to verify Telegram webhook signatures.
# Generate with: openssl rand -hex 32
WEBHOOK_SECRET=

# Only required when BOT_MODE=webhook:
# Your public domain where Telegram webhook is registered (no protocol prefix).
# Example: chatops.example.com
WEBHOOK_DOMAIN=

# =============================================================================
# Required: Security
# =============================================================================

# 32-byte hex string for AES-256-GCM API key encryption.
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=

# Shared secret for internal service-to-service authentication.
# Generate with: openssl rand -hex 32
SERVICE_TOKEN=

# =============================================================================
# Required: Admin Bootstrap
# =============================================================================

# Comma-separated Telegram IDs of users that are automatically made admins.
# Get your ID by sending /myid to the bot.
# Example: 123456789,987654321
ADMIN_TELEGRAM_IDS=

# =============================================================================
# Required: Database
# =============================================================================

# PostgreSQL password for the chatops user.
POSTGRES_PASSWORD=chatops_secret_change_me

# =============================================================================
# Optional: Container Settings
# =============================================================================

# Docker image to use for user containers.
AGENT_IMAGE=chatops/claude-agent:latest

# Maximum total containers across all users.
MAX_CONTAINERS=20

# Minutes of inactivity before a container is paused.
IDLE_TIMEOUT_MINUTES=30

# =============================================================================
# Optional: Default Provider (applied when user has no API key stored)
# =============================================================================

# Default provider for users without their own key.
# Options: anthropic, openrouter, custom
DEFAULT_PROVIDER=anthropic

# Shared API key used as fallback when user has no key stored.
# Leave empty to require all users to set their own key.
DEFAULT_ANTHROPIC_KEY=

# Base URL for the default provider (required for openrouter/custom).
DEFAULT_BASE_URL=

# =============================================================================
# Optional: Logging
# =============================================================================

LOG_LEVEL=INFO
